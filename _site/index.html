<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <title>Home</title>
   <link rel="stylesheet" href="/assets/link/base.css" />
   <link rel="stylesheet" href="/assets/link/code.css" />
   <link href='http://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
</head>
<body>
<header>
  <nav>
    <ul>
      <li>Home</li>
      <li>Archive</li>
      <li>Projects</li>
      <li>Twitter</li>
      <li>Github</li>
    </ul>
  </nav>
  <hr />
</header>
<div id="body">
<div id="home">
    
    	<article>
    		<h1><a href="/api/2013/04/20/so-why-don-t-twitter-direct-messages-sync.html">So Why Can't Twitter Keep Track of My Direct Messages?</a></h1>
    		<blockquote class="twitter-tweet" data-conversation="none"><p>Remembering that a user has read a Twitter direct message is the hardest problem in computer science.</p>&mdash; Robin Ward (@evil_trout) <a href="https://twitter.com/evil_trout/status/317528358751711232">March 29, 2013</a></blockquote>

<p>I get annoyed when I read a Twitter Direct Message in my iPhone app, and the next time I open the website, it says I have a new Direct Message. And then when I open a Twitter app on another device, it&#39;s still unread. I have to read the message over and over, even if I replied to it. How can it be 2013 and this is allowed to be the case? <strong><em>How?</em></strong></p>

<p>The pre-emptive TL;DR for this is because the way Twitter gives apps (and the website) data through its API only care about what&#39;s happening right now, and incidentally, what happened just before right now. There&#39;s just no method to say &quot;this is the last thing I read&quot; in Twitter API-ese, and the way that Direct Messages are handled make it even more complex for apps to deal with.</p>

    	</article>
    
    	<article>
    		<h1><a href="/api/2013/03/24/exploring-kickstarters-api.html">Let's Explore Kickstarter's API</a></h1>
    		<p>I like to save as many emails, pictures, chat logs, and other digital ephemera of my life as I can. I like that, more than just seeing the pictures from a skydiving trip, I have all the emails, facebook statuses, and tweets that went along with the event - it makes the story richer.</p>

<p>As part of this hoarding, I  decided I wanted a details about all of Kickstarter projects I backed, and went looking for an API I could use to pull the data down. Googling and digging through the site, all the data I could find were <a href="http://www.kickstarter.com/help/stats">a simple year-on-year stats page</a> and some <a href="http://www.kickstarter.com/blog/categories/data">blog posts</a> about milestones the service has hit. As it happens, Kickstarter does have an API - they just haven&#39;t opened or documented it up yet.</p>

<h2>Finding the API</h2>

<p>Because it seemed like a safe place to start, I opened https://api.kickstarter.com, assuming that there would be a registration page, or maybe some docs. Alas, all I got was</p>
<div class="highlight"><pre><code class="javascript">    <span class="p">{</span><span class="s2">&quot;error_messages&quot;</span><span class="o">:</span><span class="p">[</span><span class="s2">&quot;You are not authorized to access this resource.&quot;</span><span class="p">],</span><span class="s2">&quot;http_code&quot;</span><span class="o">:</span><span class="mi">401</span><span class="p">,</span><span class="s2">&quot;ksr_code&quot;</span><span class="o">:</span><span class="s2">&quot;unauthorized&quot;</span><span class="p">}</span>
</code></pre></div>
<p>This is quite a bit better than nothing, as it tells me that there are resources I could potentially be authorized to access. </p>

    	</article>
    
    	<article>
    		<h1><a href="/2013/02/03/storyboard-updates-now-with-gifs-and-unicode.html">Storyboard - Now with more GIFs (and unicode)</a></h1>
    		<p>To say that I&#39;m happy with the feedback I got about Storyboard would be a wild understatement. While I can&#39;t turn the <a href="http://www.metafilter.com/124438/Storyboard-Make-video-files-into-PDF-books">nice words</a> people said about it on metafilter or elsewhere into anything, I did work hard to add or improve things people had trouble with. Setup is still pretty complicated, but I do have ideas on how to make it better - those&#39;ll be coming in another few weeks.</p>

<p>In the meantime, I&#39;ve added to and tried to improve the <a href="https://github.com/markolson/storyboard/blob/master/INSTALL.md">setup instructions</a>.</p>

<p>If that doesn&#39;t work, please follow the normal <a href="https://github.com/markolson/storyboard/blob/master/INSTALL.md">setup instructions</a>.  If you have any troubles with them, please send me an email, get in touch with me <a href="http://twitter.com/mark_olson">on twitter</a>, or <a href="https://github.com/markolson/storyboard/issues?state=open">create an issue on github</a>. If you already have Storyboard, you should be able to update it:</p>
<div class="highlight"><pre><code class="text">storyboard --update
</code></pre></div>
<p>The main issue I wanted to fix this time around was that of improper subtitles. Relative to other metadata about video files, the sites that support subtitles are pretty spotty. To work around this, you&#39;re presented with the list of all available subtitles that are returned for your video file. While the example below says that these are all subtitles that should work with this <em>exact</em> video file, the presence of the alternate pilot underscores the bad data that can come through.</p>
<div class="highlight"><pre><code class="text">$ storyboard &quot;Seinfeld 6x04.avi&quot;
There are multiple subtitles that could work with this file. Please choose one!
All of these are subtitles made for this exact video file, so any should work.
1: &#39;Seinfeld - 6x04 - The Chinese Woman_eng.srt&#39;, added 2005-11-15 00:00:00
2: &#39;Seinfeld [1x00] - Alternative Pilot - Good News, Bad News - FoV -.srt&#39;, added 2005-09-04 00:00:00
choice (default 1):
</code></pre></div>
<h2>Gifboard</h2>

<p><img style="float: right; margin-left: 10px" src="/assets/media/storyboard/cape.gif" width="300px" />More than a few seemed to assume that Storyboard was used to create the GIFs from TV shows and movies that litter tumblr, or if it could support doing that. Well, it turns out that adding GIF support was pretty simple because Storyboard already knew when a line of text was on screen, how to extract those frames, and add subtitles to them. All that was left was saving the GIF itself, which also turned out to be pretty simple, using the same Imagemagick tools that Storyboard already required.</p>

<p>I only put a few hours of work into this, and it so it&#39;s lacking a lof of options - most notably ones that could control the size and quality of the GIF. Along with not being able to specify exact time ranges, font colors, or other options I can&#39;t think of right now, this makes the results pretty take-it-or-leave-it. Nevertheless, I can&#39;t stop laughing at the GIF on the right, and so it passes muster with me.</p>

<p>Instead of cramming more into Storyboard, I broke it out into a seperate applicaton: <strong>gifboard</strong>. Using it is pretty simple:</p>
<div class="highlight"><pre><code class="text">$ gifboard -t &quot;wearing a cape&quot; &quot;Seinfeld 6x04.avi&quot;
</code></pre></div>
    	</article>
    
    	<article>
    		<h1><a href="/2013/01/20/storyboard.html">Storyboard</a></h1>
    		<p><a href="https://github.com/markolson/storyboard">Storyboard</a> was born of my insane desire to consume videos without actually having to watch them. Normally that would involve putting the TV on in the background and ignoring the video while listening to the audio, but what about the reverse? All visual without the audio. On my kindle.</p>

<p>Storyboard is <strong>very</strong> much a work in progress, though it does work for most files that it has been tested against. Right now it will only create PDFs, but ePUB and Mobi are just a few commits away. The source <a href="https://github.com/markolson/storyboard">is available on Github</a> where pull requests are gladly accepted, especially ones that deal with <a href="https://github.com/markolson/storyboard/issues">open issues.</a> Even just hearing back that Storyboard did or didn&#39;t work for a certain file can be of great help.</p>

<h2>Installing</h2>

<p>Storyboard requires Ruby 1.9.3, FFmpeg 1.1, and ImageMagick. For OSX, the <a href="https://github.com/markolson/storyboard/blob/master/INSTALL.md">INSTALL file</a> has a lot more details, but if you already have a development environment setup, you shouldn&#39;t have to do much.</p>
<div class="highlight"><pre><code class="text">brew update &amp;&amp; brew install ffmpeg imagemagick ghostscript libtool
gem install storyboard
</code></pre></div>
<p>For Ubuntu, installing imagemagick and ghostscript from apt will work, but you need to <a href="http://ffmpeg.org/download.html">download and compile ffmpeg</a> on your own for now.</p>

<h2>Using Storyboard</h2>

<p>From a terminal, just call <code>storyboard</code></p>
<div class="highlight"><pre><code class="text">storyboard &quot;Your Video File.mkv&quot;
</code></pre></div>
<p>Storyboard will then output a file named <code>Your Video File.pdf</code> in the directory you ran the command from. With non-HD content, this process can take just a minute or two for a 22 minute file, and the output file will be around 12MB.</p>

    	</article>
    
    	<article>
    		<h1><a href="/chef/ssh/2013/01/02/ssh-known-hosts-in-chef.html">SSH Authentication with Chef</a></h1>
    		<h2>SSH known_hosts and Chef</h2>

<p>A problem that the documentation for Chef&#39;s <a href="http://wiki.opscode.com/display/chef/Deploy+Resource">Deploy_resource</a> talks about is a Chef run pausing while a program it runs waits for user input. One way this presents itself is with SSH&#39;s host fingerprint checking, which ensures that the host you&#39;re connecting to now is the same host you connected to earlier.  When first connecting to a host with anything that runs over SSH, you&#39;ll see something like this:</p>
<div class="highlight"><pre><code class="text">root@precise64:/tmp# git clone git@github.com:rails/rails.git
Cloning into &#39;rails&#39;...
The authenticity of host &#39;github.com (207.97.227.239)&#39; can&#39;t be established.
RSA key fingerprint is 16:27:ac:a5:76:28:2d:36:63:1b:56:4d:eb:df:a6:48.
Are you sure you want to continue connecting (yes/no)?
</code></pre></div>
<p>Chef can&#39;t type &#39;yes&#39; for this, and so it waits. And waits. The second issue that can come up is having a keyphrase on the SSH key. Normally, this is a very good idea, but it just doesn&#39;t work well with automated deployments because, again, it prompts for input.</p>

<p>To get around this, The Chef docs recommend creating a wrapper around SSH called <code>wrap-ssh4git.sh</code> which disables Strict Host Checking and tells SSH to use a key that has had it&#39;s keyphrase removed. While there&#39;s no <em>good</em> way to use a keyphrase protected key, we can use SSH&#39;s built in tools to add hosts to the <code>known_hosts</code> file that SSH consults when connecting.</p>

    	</article>
    
    	<article>
    		<h1><a href="/rvm/2012/12/21/installing-binaries-in-rvm.html">Installing Prebuilt Binaries with RVM</a></h1>
    		<p>I&#39;ve been working with a lot of virtual machines lately, and using RVM to install the version of ruby I need took longer than installing the base system. If you go through the motions of <code>rvm install {VERSION}</code>, you might just gloss over this message:</p>
<div class="highlight"><pre><code class="text">No binary rubies available for: ubuntu/12.04/x86_64/{VERSION}.&lt;br /&gt;
Continuing with compilation. Please read &#39;rvm mount&#39; to get more information on binary rubies.
</code></pre></div>
<p>Not reading the documentation for <code>rvm mount</code> might end up costing you a lot of time.</p>

    	</article>
    
 </div>
</div>
</body>
</html>
